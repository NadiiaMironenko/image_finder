{"version":3,"sources":["components/Modal/modal.module.css","components/ImageGalleryItem/imageGalleryItem.module.css","components/Button/button.module.css","components/ImageGallery/imageGallery.module.css","components/SearchBar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","App.js","index.js","components/SearchBar/SearchBar.module.css"],"names":["module","exports","Searchbar","state","name","handleNameChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","swal","props","onSubmit","className","s","searchbar","this","searchbar_button","type","style","marginRight","searchbar_input","onChange","autoComplete","placeholder","Component","ImageGalleryItem","webSrc","largeImageURL","onClick","alt","src","styles","ImageGalleryItem_image","Button","incrementPage","Modal","onBackdropClick","image","Overlay","ImageGallery","page","images","status","showModal","onIncrementPage","handleImageClick","handleBackdropCLick","evt","target","tagName","document","addEventListener","code","removeEventListener","prevProps","prevState","prevName","nextName","keys","url","fetch","then","response","ok","json","data","hits","length","catch","error","window","scrollTo","top","documentElement","scrollHeight","behavior","prev","map","id","webformatURL","tags","color","height","width","timeout","App","handleFormSubmit","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e8f4ff22.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"modal_Overlay__2-weE\",\"Modal\":\"modal_Modal__3Zjcx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem_image\":\"imageGalleryItem_ImageGalleryItem_image__11sDl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__fXTbb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"imageGallery_ImageGallery__2SLPC\"};","import React, { Component } from \"react\";\r\nimport swal from \"sweetalert\";\r\nimport { ImSearch } from \"react-icons/im\";\r\nimport s from \"./SearchBar.module.css\"\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    name: \"\",\r\n  };\r\n\r\n  handleNameChange = (event) => {\r\n    this.setState({ name: event.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (this.state.name.trim() === \"\") {\r\n      return swal(\"введите данные, пожалуйста\");\r\n    }\r\n    this.props.onSubmit(this.state.name);\r\n    this.setState({ name: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header>\r\n        <form className={s.searchbar} onSubmit={this.handleSubmit}>\r\n          <button className={s.searchbar_button} type=\"submit\" >\r\n            <ImSearch style={{ marginRight: 8 }} />\r\n            <span>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.searchbar_input}\r\n            type=\"text\"\r\n            value={this.state.name}\r\n            onChange={this.handleNameChange}\r\n            autoComplete=\"off\"\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./imageGalleryItem.module.css\";\r\n\r\nfunction ImageGalleryItem({\r\n  webSrc = \"\",\r\n  largeImageURL = \"\",\r\n  onClick,\r\n  alt = \"\",\r\n}) {\r\n  return (\r\n    <li>\r\n      <img\r\n        src={webSrc}\r\n        alt={alt}\r\n        onClick={() => onClick(largeImageURL)}\r\n        className={styles.ImageGalleryItem_image}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  images: PropTypes.arrayOf(Object),\r\n  byClick: PropTypes.func,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./button.module.css\";\r\n\r\nfunction Button({ incrementPage }) {\r\n  return (\r\n    <div>\r\n      <button className={styles.Button} onClick={incrementPage}>\r\n        Загрузить больше\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  incrementPage: PropTypes.func,\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport style from \"./modal.module.css\";\r\n\r\nexport default class Modal extends Component {\r\n  static propTypes = {\r\n    onBackdropClick: PropTypes.func,\r\n    image: PropTypes.string.isRequired,\r\n  };\r\n\r\n  render() {\r\n    const { onBackdropClick, image } = this.props;\r\n    return (\r\n      <>\r\n        <section className={style.Overlay} onClick={onBackdropClick}>\r\n          <div className={style.Modal}>\r\n            <img src={image} alt=\"backdropImage\" />\r\n          </div>\r\n        </section>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport swal from \"sweetalert\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport Button from \"../Button/Button\";\r\nimport Modal from \"../Modal/Modal\";\r\nimport styles from \"./imageGallery.module.css\";\r\n\r\nexport default class ImageGallery extends Component {\r\n  state = {\r\n    page: 1,\r\n    name: \"\",\r\n    images: [],\r\n    status: \"Idle\",\r\n    largeImageURL: \"\",\r\n    showModal: false,\r\n  };\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevName = prevProps.name;\r\n    const nextName = this.props.name;\r\n    const keys = \"19297457-6b61957df3c7b30b2bbaf73bd\";\r\n\r\n    if (prevName !== nextName) {\r\n      const url = `https://pixabay.com/api/?q=${nextName}&page=1&key=${keys}&image_type=photo&orientation=horizontal&per_page=12`;\r\n      fetch(url)\r\n        .then((response) => {\r\n          if (response.ok) {\r\n            return response.json();\r\n          }\r\n        })\r\n        .then((data) => {\r\n          if (data.hits.length === 0) {\r\n            swal(\"Ничего не найдено\");\r\n          }\r\n          if (data.hits.length > 0) {\r\n            this.setState({ images: data.hits, status: \"Resolved\" });\r\n          }\r\n        })\r\n        .catch((error) => this.setState({ error, status: \"Rejected\" }));\r\n    }\r\n\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n\r\n    if (prevState.page !== this.state.page) {\r\n      this.setState({ status: \"Pending\" });\r\n      const url = `https://pixabay.com/api/?q=${nextName}&page=${this.state.page}&key=${keys}&image_type=photo&orientation=horizontal&per_page=12`;\r\n      fetch(url)\r\n        .then((response) => {\r\n          if (response.ok) {\r\n            return response.json();\r\n          }\r\n        })\r\n        .then((data) => {\r\n          this.setState((prev) => ({\r\n            images: [...prev.images, ...data.hits],\r\n            status: \"Resolved\",\r\n          }));\r\n        })\r\n        .catch((error) => this.setState({ error, status: \"Rejected\" }));\r\n    }\r\n  }\r\n\r\n  onIncrementPage = () => {\r\n    this.setState({ page: this.state.page + 1 });\r\n  };\r\n\r\n  handleImageClick = (image) => {\r\n    this.setState({ largeImageURL: image, showModal: true });\r\n  };\r\n\r\n  handleBackdropCLick = (evt) => {\r\n    if (evt.target.tagName === \"SECTION\") {\r\n      this.setState({ showModal: false });\r\n      return;\r\n    }\r\n    if (this.state.showModal === true) {\r\n      document.addEventListener(\"keydown\", (evt) => {\r\n        if (evt.code === \"Escape\") {\r\n          this.setState({ showModal: false });\r\n          return;\r\n        }\r\n      });\r\n    }\r\n    if (this.state.showModal === false) {\r\n      document.removeEventListener(\"keydown\");\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { largeImageURL, images, showModal, status } = this.state;\r\n    return (\r\n      <>\r\n        <ul className={styles.ImageGallery}>\r\n          {images.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n            <ImageGalleryItem\r\n              key={id}\r\n              webSrc={webformatURL}\r\n              alt={tags}\r\n              largeImageURL={largeImageURL}\r\n              onClick={this.handleImageClick}\r\n            />\r\n          ))}\r\n        </ul>\r\n        {status === \"Pending\" && (\r\n          <div>\r\n            <Loader\r\n              type=\"Puff\"\r\n              color=\"#00BFFF\"\r\n              height={100}\r\n              width={100}\r\n              timeout={3000}\r\n            />\r\n          </div>\r\n        )}\r\n        {(images.length > 0 || status === \"Resolved\") && (\r\n          <Button incrementPage={this.onIncrementPage} />\r\n        )}\r\n        {showModal && (\r\n          <Modal\r\n            image={largeImageURL}\r\n            onBackdropClick={this.handleBackdropCLick}\r\n          />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import { Component } from \"react\";\r\nimport Searchbar from \"./components/SearchBar/Searchbar\";\r\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    name: \"\",\r\n  };\r\n\r\n  handleFormSubmit = (name) => {\r\n    this.setState({ name });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Searchbar onSubmit={this.handleFormSubmit} />\r\n        <ImageGallery name={this.state.name} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"SearchBar_searchbar__1CNJc\",\"searchbar_button\":\"SearchBar_searchbar_button__kNgRl\",\"searchbar_input\":\"SearchBar_searchbar_input__1gAdt\"};"],"sourceRoot":""}